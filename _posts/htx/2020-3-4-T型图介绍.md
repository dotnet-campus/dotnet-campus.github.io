---
layout: post
title: "2020-3-4-T型图介绍"
date: 2020-3-4 17:54:23
date_modified: 2020-3-4 17:54:26
categories: 架构 编译
tags: 架构 编译
description:
---

在看到编译器相关知识时，发现有一个T型图的概念，于是就记录一下

-----

## 什么是T型图

T型图是用于描述编译器实现时的一种辅助工具。

我们都知道描述一个语言编译，需要源代码，编译器，和目标代码，三个组成部分。

这三者都有自己的生成语言描述，正好可以使用一个T型图标识。

![image-20200304192236519](../media/image-20200304192236519.png)

这里下面的t型图表示使用β语言书写的编译器，将α语言写的源代码编译成为γ语言。

![image-20200304195208626](../media/image-20200304195208626.png)

## T型图作用

有了T型图我们就可以来描述编译器构建。

比如下图，就是我先使用c语言编写了java编译器一个将java代码转成本地机器码的编译器。

然后使用本地现有的c语言编译器，将之前用C语言编写的Java编译器编译成本地机器码。

这样我们就最终得到了一个本地机器码编写的Java编译器。

![image-20200304200536250](../media/image-20200304200536250.png)

再举一个比较火的例子，如果我期望使用Java创建一个Java的编译器，即self-hosting，我该怎么用T型图描述呢？

![image-20200304201145527](../media/image-20200304201145527.png)

我先创建了一个Java书写的Java编译器。目标是将Java编译成本机的机器码。

但是计算机不能直接运行这个Java编译器，所以使用一个C语言编写的编译器，将Java编译器的Java代码编译成本地机器码。

然后要运行这个C语言编写的编译器，要先调用本机代码，将C语言编译成本地机器码。

这样一轮下来，我们最终得到的可以在本机运行的Java编译器。

---

参考文档：

-  [编译原理：第二节_C/C++_cassiePython的专栏-CSDN博客](https://blog.csdn.net/cassiePython/article/details/48179727)


